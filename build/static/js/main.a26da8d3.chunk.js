(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(48),r=a(13),l=a(14),s=a(17),i=a(15),m=a(18),u=a(16),p=a(11),d=a(49),h=a(23),f=a(32),b=a.n(f);a(63);b.a.initializeApp({apiKey:"AIzaSyD451hLDnk-yVkungcEgp55q72-64MvyI8",authDomain:"markdow-94130.firebaseapp.com",databaseURL:"https://markdow-94130.firebaseio.com",projectId:"markdow-94130",storageBucket:"",messagingSenderId:"153681970224",appId:"1:153681970224:web:0b2038a214d25139"});var v=b.a.database(),y=a(50),E=a.n(y),g=a(155),k=a(154),j=a(156),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={posts:[],title:""},a.onChange=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t=E()();""!==a.state.title&&v.ref("post/".concat(t)).set({title:a.state.title,body:""}).then(function(e){a.props.history.push("/post/".concat(t))}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.ref("/posts").on("value",function(t){var a=[];t.forEach(function(e){a.push(Object(d.a)({},e.val(),{key:e.key}))}),e.setState({posts:a})})}},{key:"render",value:function(){return console.log(this.state.posts),c.a.createElement("div",null,c.a.createElement("h1",{className:"mt-4 mb-4 text-center"},"Create or edit a post"),c.a.createElement(g.a,{onSubmit:this.onSubmit},c.a.createElement(k.a,{className:"mb-3"},c.a.createElement(g.a.Control,{type:"text",name:"title",placeholder:"Create a post...",value:this.state.title,onChange:this.onChange}),c.a.createElement(k.a.Append,null,c.a.createElement(j.a,{variant:"success",type:"submit"},"Create")))),c.a.createElement("div",{className:"text-center"},this.state.posts.map(function(e){return c.a.createElement("div",{className:"my-4",key:e.key},c.a.createElement(u.b,{to:"/post/".concat(e.key),className:"post-link"},c.a.createElement("h2",null,e.title),c.a.createElement("hr",null)))})))}}]),t}(n.Component),w=a(55),R=a.n(w),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).onChange=function(){a.postFBRef.set({title:a.titleRef.current.value,body:a.bodyRef.current.value}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.titleRef=c.a.createRef(),a.bodyRef=c.a.createRef(),a.postFBRef=v.ref("posts/".concat(a.props.match.params.postId)),a.state={mdBody:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.postFBRef.on("value",function(t){t.val()&&(e.titleRef.current&&(e.titleRef.current.value=t.val().title),e.bodyRef.current&&(e.bodyRef.current.value=t.val().body),e.setState({mdBody:t.val().body}))})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col col-sm-12"},c.a.createElement(u.b,{to:"/"},"Home")),c.a.createElement("div",{className:"col col-sm-12"},c.a.createElement("input",{className:"post-title-input",ref:this.titleRef,type:"text",placeholder:"Title",onChange:this.onChange}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col col-sm-6"},c.a.createElement("textarea",{className:"form-control",placeholder:"Post body...",ref:this.bodyRef,type:"text",onChange:this.onChange,rows:30})),c.a.createElement("div",{className:"col col-sm-6"},c.a.createElement(R.a,{source:this.state.mdBody,className:"markdown-preview"}))))}}]),t}(n.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(u.a,null,c.a.createElement(p.c,null,c.a.createElement(p.a,{exact:!0,path:"/",component:O}),c.a.createElement(p.a,{exact:!0,path:"/post/:postId",component:C}))))}}]),t}(n.Component);a(151);Object(o.render)(c.a.createElement(N,null),document.getElementById("app"))},56:function(e,t,a){e.exports=a(152)}},[[56,1,2]]]);
//# sourceMappingURL=main.a26da8d3.chunk.js.map